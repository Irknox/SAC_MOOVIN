{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alcar/OneDrive/Desktop/SAC_MOOVIN/sac_manager_ui/src/services/ManagerUI_service.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:7575/ManagerUI\";\r\n\r\nexport const fetchHistoryPreview = async () => {\r\n  try {\r\n    const response = await axios.post(API_URL, {\r\n      request: \"UsersLastMessages\",\r\n    });\r\n    return response.data.history;\r\n  } catch (error) {\r\n    console.error(\"Error fetching agent history:\", error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const fetchUserHistory = async (\r\n  user_id,\r\n  range_requested,\r\n  last_id = null\r\n) => {\r\n  try {\r\n    const request_body = {\r\n      user: user_id,\r\n      range: range_requested,\r\n    };\r\n\r\n    if (last_id !== null) {\r\n      request_body.last_id = last_id;\r\n    }\r\n\r\n    const response = await axios.post(API_URL, {\r\n      request: \"UserHistory\",\r\n      request_body,\r\n    });\r\n    console.log(\"Response history\", response.data.history);\r\n\r\n    return response.data.history;\r\n  } catch (error) {\r\n    console.error(\"Error fetching agent history:\", error);\r\n    throw error;\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,UAAU;AAET,MAAM,sBAAsB;IACjC,IAAI;QACF,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,SAAS;YACzC,SAAS;QACX;QACA,OAAO,SAAS,IAAI,CAAC,OAAO;IAC9B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,MAAM;IACR;AACF;AAEO,MAAM,mBAAmB,OAC9B,SACA,iBACA,UAAU,IAAI;IAEd,IAAI;QACF,MAAM,eAAe;YACnB,MAAM;YACN,OAAO;QACT;QAEA,IAAI,YAAY,MAAM;YACpB,aAAa,OAAO,GAAG;QACzB;QAEA,MAAM,WAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,SAAS;YACzC,SAAS;YACT;QACF;QACA,QAAQ,GAAG,CAAC,oBAAoB,SAAS,IAAI,CAAC,OAAO;QAErD,OAAO,SAAS,IAAI,CAAC,OAAO;IAC9B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,MAAM;IACR;AACF","debugId":null}},
    {"offset": {"line": 139, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alcar/OneDrive/Desktop/SAC_MOOVIN/sac_manager_ui/src/components/ConversationsTab.jsx"],"sourcesContent":["import { fetchHistoryPreview } from \"../services/ManagerUI_service\";\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nconst ConversationsTab = ({ onSelectUser, selectedUserId }) => {\r\n  const [history, setHistory] = useState([]);\r\n  const [lastMessages, setLastMessages] = useState([]);\r\n\r\n  useEffect(() => {\r\n  let isMounted = true;\r\n  const fetchAndSet = async () => {\r\n    const history = await fetchHistoryPreview();\r\n    if (!isMounted) return;\r\n    const grouped = {};\r\n    const lastMessages = [];\r\n    history\r\n      .sort((a, b) => new Date(b.fecha) - new Date(a.fecha))\r\n      .forEach((entry) => {\r\n        try {\r\n          const raw = entry.contexto;\r\n          const parsedOnce = JSON.parse(raw);\r\n          entry.contexto =\r\n            typeof parsedOnce === \"string\"\r\n              ? JSON.parse(parsedOnce)\r\n              : parsedOnce;\r\n        } catch (e) {\r\n          entry.contexto = {};\r\n        }\r\n        if (!grouped[entry.user_id]) {\r\n          grouped[entry.user_id] = entry;\r\n          lastMessages.push(entry);\r\n        }\r\n      });\r\n    setHistory(history);\r\n    setLastMessages(lastMessages);\r\n  };\r\n\r\n  fetchAndSet();\r\n  const interval = setInterval(fetchAndSet, 3000);\r\n\r\n  return () => {\r\n    isMounted = false;\r\n    clearInterval(interval);\r\n  };\r\n}, []);\r\n  //\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"conversations-tab\"\r\n        style={{\r\n          height: \"100%\",\r\n          width: \"100%\",\r\n          backgroundColor: \"#000b24ff\",\r\n        }}\r\n      >\r\n        <div style={{ listStyle: \"none\" }}>\r\n          {lastMessages.map((entry) => (\r\n            <li\r\n              key={entry.user_id}\r\n              style={{\r\n                padding: \"2px\",\r\n                cursor: \"pointer\",\r\n                background:\r\n                  selectedUserId === entry.user_id ? \"#010716ff\" : \"#000b24ff\",\r\n                borderBottom: \"2px solid #0b39804f\",\r\n                height: \"5.25rem\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"space-evenly\",\r\n                paddingLeft: \"8px\",\r\n              }}\r\n              onClick={() => onSelectUser(entry.user_id)}\r\n            >\r\n              <strong style={{ fontSize: 14}}>\r\n                {entry.contexto.context.user_env.username || entry.user_id}\r\n              </strong>\r\n              <div\r\n                style={{ fontSize: 11, display: \"flex\", alignSelf: \"center\", height:\"2.5rem\",overflow: \"hidden\" }}\r\n              >\r\n                {entry.mensaje_entrante || entry.mensaje_saliente}\r\n              </div>\r\n              <div style={{ fontSize: 9, textAlign: \"right\" }}>\r\n                Recibido:{\" \"}\r\n                {new Date(\r\n                  new Date(entry.fecha).getTime() - 6 * 60 * 60 * 1000\r\n                ).toLocaleString()}\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ConversationsTab;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEA,MAAM,mBAAmB,CAAC,EAAE,YAAY,EAAE,cAAc,EAAE;IACxD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAEnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACV,IAAI,YAAY;QAChB,MAAM,cAAc;YAClB,MAAM,UAAU,MAAM,CAAA,GAAA,oIAAA,CAAA,sBAAmB,AAAD;YACxC,IAAI,CAAC,WAAW;YAChB,MAAM,UAAU,CAAC;YACjB,MAAM,eAAe,EAAE;YACvB,QACG,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,KAAK,IAAI,IAAI,KAAK,EAAE,KAAK,GACnD,OAAO,CAAC,CAAC;gBACR,IAAI;oBACF,MAAM,MAAM,MAAM,QAAQ;oBAC1B,MAAM,aAAa,KAAK,KAAK,CAAC;oBAC9B,MAAM,QAAQ,GACZ,OAAO,eAAe,WAClB,KAAK,KAAK,CAAC,cACX;gBACR,EAAE,OAAO,GAAG;oBACV,MAAM,QAAQ,GAAG,CAAC;gBACpB;gBACA,IAAI,CAAC,OAAO,CAAC,MAAM,OAAO,CAAC,EAAE;oBAC3B,OAAO,CAAC,MAAM,OAAO,CAAC,GAAG;oBACzB,aAAa,IAAI,CAAC;gBACpB;YACF;YACF,WAAW;YACX,gBAAgB;QAClB;QAEA;QACA,MAAM,WAAW,YAAY,aAAa;QAE1C,OAAO;YACL,YAAY;YACZ,cAAc;QAChB;IACF,GAAG,EAAE;IACH,EAAE;IACF,qBACE;kBACE,cAAA,8OAAC;YACC,WAAU;YACV,OAAO;gBACL,QAAQ;gBACR,OAAO;gBACP,iBAAiB;YACnB;sBAEA,cAAA,8OAAC;gBAAI,OAAO;oBAAE,WAAW;gBAAO;0BAC7B,aAAa,GAAG,CAAC,CAAC,sBACjB,8OAAC;wBAEC,OAAO;4BACL,SAAS;4BACT,QAAQ;4BACR,YACE,mBAAmB,MAAM,OAAO,GAAG,cAAc;4BACnD,cAAc;4BACd,QAAQ;4BACR,SAAS;4BACT,eAAe;4BACf,gBAAgB;4BAChB,aAAa;wBACf;wBACA,SAAS,IAAM,aAAa,MAAM,OAAO;;0CAEzC,8OAAC;gCAAO,OAAO;oCAAE,UAAU;gCAAE;0CAC1B,MAAM,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,IAAI,MAAM,OAAO;;;;;;0CAE5D,8OAAC;gCACC,OAAO;oCAAE,UAAU;oCAAI,SAAS;oCAAQ,WAAW;oCAAU,QAAO;oCAAS,UAAU;gCAAS;0CAE/F,MAAM,gBAAgB,IAAI,MAAM,gBAAgB;;;;;;0CAEnD,8OAAC;gCAAI,OAAO;oCAAE,UAAU;oCAAG,WAAW;gCAAQ;;oCAAG;oCACrC;oCACT,IAAI,KACH,IAAI,KAAK,MAAM,KAAK,EAAE,OAAO,KAAK,IAAI,KAAK,KAAK,MAChD,cAAc;;;;;;;;uBA3Bb,MAAM,OAAO;;;;;;;;;;;;;;;;AAmChC;uCAEe","debugId":null}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alcar/OneDrive/Desktop/SAC_MOOVIN/sac_manager_ui/src/components/ToolOutput.jsx"],"sourcesContent":["const ToolOutput = ({ tool, output }) => {\r\n  let parsedOutput = output;\r\n\r\n  // Si el output es un string, intenta convertirlo en JSON válido\r\n  if (typeof output === \"string\") {\r\n    try {\r\n      // Reemplaza comillas simples por dobles y None por null\r\n      const fixedOutput = output.replace(/None/g, \"null\").replace(/'/g, '\"');\r\n      parsedOutput = JSON.parse(fixedOutput);\r\n      console.log(\"Output convertido a JSON:\", parsedOutput);\r\n    } catch (e) {\r\n      console.error(\"Error al convertir el output en JSON:\", e);\r\n      parsedOutput = {\r\n        error: \"No se pudo convertir el output en JSON\",\r\n        raw: output,\r\n      };\r\n    }\r\n  }\r\n\r\n  if (tool === \"get_package_timeline\") {\r\n    return (\r\n      <div className=\"flex-col z-1000 max-h-auto w-full rounded bg-gray-900 text-gray-200 border border-gray-700\">\r\n        <div>\r\n          <p>Nombre en paquete: {parsedOutput[\"Dueño del Paquete\"]}</p>\r\n          <p>Telefono en paquete: {parsedOutput[\"Numero de Telefono\"]}</p>\r\n          <p>Tienda donde se compro: {parsedOutput[\"Tienda donde se compro el paquete\"]|| \"Tienda Desconocida\"}  </p>\r\n        </div>\r\n\r\n        <table\r\n          style={{ fontSize: \"smaller\" }}\r\n          className=\"w-full text-sm text-left\"\r\n        >\r\n          <thead>\r\n            <tr className=\"border-b border-gray-600\">\r\n              <th className=\"px-1 py-1\">FECHA</th>\r\n              <th className=\"px-1 py-1\">ESTADO</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {parsedOutput.timeline.map((item, idx) => (\r\n              <tr\r\n                key={idx}\r\n                className=\"border-b border-gray-800 hover:bg-gray-800\"\r\n              >\r\n                <td className=\"px-2 py-1 whitespace-nowrap\">{item.dateUser}</td>\r\n                <td className=\"px-2 py-1 whitespace-nowrap\">{item.status}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n  else {\r\n    return(\r\n      <div className=\"max-h-100 max-w-auto bg-gray-900 p-2 text-gray-200 border border-gray-700 text-xs\">\r\n        <pre>Vista de Herramienta no disponible aun</pre>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-h-100 max-w-auto bg-gray-900 p-2 text-gray-200 border border-gray-700 text-xs\">\r\n      <pre>{JSON.stringify(parsedOutput, null, 2)}</pre>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ToolOutput;\r\n"],"names":[],"mappings":";;;;;AAAA,MAAM,aAAa,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE;IAClC,IAAI,eAAe;IAEnB,gEAAgE;IAChE,IAAI,OAAO,WAAW,UAAU;QAC9B,IAAI;YACF,wDAAwD;YACxD,MAAM,cAAc,OAAO,OAAO,CAAC,SAAS,QAAQ,OAAO,CAAC,MAAM;YAClE,eAAe,KAAK,KAAK,CAAC;YAC1B,QAAQ,GAAG,CAAC,6BAA6B;QAC3C,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,yCAAyC;YACvD,eAAe;gBACb,OAAO;gBACP,KAAK;YACP;QACF;IACF;IAEA,IAAI,SAAS,wBAAwB;QACnC,qBACE,8OAAC;YAAI,WAAU;;8BACb,8OAAC;;sCACC,8OAAC;;gCAAE;gCAAoB,YAAY,CAAC,oBAAoB;;;;;;;sCACxD,8OAAC;;gCAAE;gCAAsB,YAAY,CAAC,qBAAqB;;;;;;;sCAC3D,8OAAC;;gCAAE;gCAAyB,YAAY,CAAC,oCAAoC,IAAG;gCAAqB;;;;;;;;;;;;;8BAGvG,8OAAC;oBACC,OAAO;wBAAE,UAAU;oBAAU;oBAC7B,WAAU;;sCAEV,8OAAC;sCACC,cAAA,8OAAC;gCAAG,WAAU;;kDACZ,8OAAC;wCAAG,WAAU;kDAAY;;;;;;kDAC1B,8OAAC;wCAAG,WAAU;kDAAY;;;;;;;;;;;;;;;;;sCAG9B,8OAAC;sCACE,aAAa,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,oBAChC,8OAAC;oCAEC,WAAU;;sDAEV,8OAAC;4CAAG,WAAU;sDAA+B,KAAK,QAAQ;;;;;;sDAC1D,8OAAC;4CAAG,WAAU;sDAA+B,KAAK,MAAM;;;;;;;mCAJnD;;;;;;;;;;;;;;;;;;;;;;IAWnB,OACK;QACH,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;0BAAI;;;;;;;;;;;IAGX;;AAOF;uCAEe","debugId":null}},
    {"offset": {"line": 442, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alcar/OneDrive/Desktop/SAC_MOOVIN/sac_manager_ui/src/components/AgentTimeline.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport ToolOutput from \"./ToolOutput\";\r\n\r\n\r\n\r\n\r\nconst AgentTimeline = ({ actions, getToolOutput }) => {\r\n  const [hoveredItem, setHoveredItem] = useState(null);\r\n\r\n  const renderTimelineItem = (action, index) => {\r\n    let label = null;\r\n    let extra = null;\r\n\r\n    if (action.type === \"function_call\") {\r\n      const isHandoff = action.name?.startsWith(\"transfer_to_\");\r\n      if (isHandoff) {\r\n        label = `Handoff: ${action.name.replace(\"transfer_to_\", \"\")}`;\r\n      } else {\r\n        label = `Tool: ${action.name}`;\r\n          \r\n        const result = getToolOutput(action.call_id);    \r\n        extra = result && (\r\n          <div className=\"relative\">\r\n            <div\r\n              className=\"text-sm text-gray-400 mt-1 cursor-pointer hover:text-blue-400\"\r\n              onMouseEnter={() => setHoveredItem(index)}\r\n              onMouseLeave={() => setHoveredItem(null)}\r\n            >\r\n              Ver resultado\r\n            </div>\r\n            {hoveredItem === index && (\r\n              <div className=\"fixed z-1000 max-h-auto mt-1 bg-white dark:bg-gray-800 rounded shadow text-xs text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700 \">\r\n                <ToolOutput tool={action.name} output={result} />\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      }\r\n    } else if (action.type === \"message\") {        \r\n      label = \"Respuesta del Agente\";\r\n      extra = (\r\n        <div className=\"relative\">\r\n          <div\r\n            className=\"text-sm text-gray-400 mt-1 cursor-pointer hover:text-blue-400\"\r\n            onMouseEnter={() => setHoveredItem(index)}\r\n            onMouseLeave={() => setHoveredItem(null)}\r\n          >\r\n            Ver respuesta\r\n          </div>\r\n          {hoveredItem === index && (\r\n            <div className=\"absolute z-10 mt-1 p-3 w-72 bg-white dark:bg-gray-800 rounded shadow text-sm text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-700\">\r\n              {action.content?.[0]?.text}\r\n            </div>\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!label) return null;\r\n    return (\r\n      <li key={index} className=\"relative mb-6 sm:mb-0\">\r\n        <div className=\"flex items-center\">\r\n          <div className=\"z-10 flex items-center justify-center w-6 h-6 bg-blue-100 rounded-full ring-0 ring-white dark:bg-blue-900 sm:ring-8 dark:ring-gray-900 shrink-0\">\r\n            <svg\r\n              className=\"w-2.5 h-2.5 text-blue-800 dark:text-blue-300\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              fill=\"currentColor\"\r\n              viewBox=\"0 0 20 20\"\r\n            >\r\n              <path d=\"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4Z\" />\r\n            </svg>\r\n          </div>\r\n          <div className=\"hidden sm:flex w-full bg-gray-200 h-0.5 dark:bg-gray-700\"></div>\r\n        </div>\r\n        <div className=\"mt-3 sm:pe-8\">\r\n          <h4 className=\"text-base font-semibold text-gray-900 dark:text-white\">\r\n            {label}\r\n          </h4>\r\n          {extra}\r\n        </div>\r\n      </li>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex justify-center h-full pt-2\">\r\n      <ol className=\"sm:flex\">\r\n        {actions.length ? (\r\n          actions.map(renderTimelineItem)\r\n        ) : (\r\n          <li>No hay acciones del agente</li>\r\n        )}\r\n      </ol>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AgentTimeline;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAKA,MAAM,gBAAgB,CAAC,EAAE,OAAO,EAAE,aAAa,EAAE;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,qBAAqB,CAAC,QAAQ;QAClC,IAAI,QAAQ;QACZ,IAAI,QAAQ;QAEZ,IAAI,OAAO,IAAI,KAAK,iBAAiB;YACnC,MAAM,YAAY,OAAO,IAAI,EAAE,WAAW;YAC1C,IAAI,WAAW;gBACb,QAAQ,CAAC,SAAS,EAAE,OAAO,IAAI,CAAC,OAAO,CAAC,gBAAgB,KAAK;YAC/D,OAAO;gBACL,QAAQ,CAAC,MAAM,EAAE,OAAO,IAAI,EAAE;gBAE9B,MAAM,SAAS,cAAc,OAAO,OAAO;gBAC3C,QAAQ,wBACN,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,WAAU;4BACV,cAAc,IAAM,eAAe;4BACnC,cAAc,IAAM,eAAe;sCACpC;;;;;;wBAGA,gBAAgB,uBACf,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,gIAAA,CAAA,UAAU;gCAAC,MAAM,OAAO,IAAI;gCAAE,QAAQ;;;;;;;;;;;;;;;;;YAKjD;QACF,OAAO,IAAI,OAAO,IAAI,KAAK,WAAW;YACpC,QAAQ;YACR,sBACE,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,WAAU;wBACV,cAAc,IAAM,eAAe;wBACnC,cAAc,IAAM,eAAe;kCACpC;;;;;;oBAGA,gBAAgB,uBACf,8OAAC;wBAAI,WAAU;kCACZ,OAAO,OAAO,EAAE,CAAC,EAAE,EAAE;;;;;;;;;;;;QAKhC;QAEA,IAAI,CAAC,OAAO,OAAO;QACnB,qBACE,8OAAC;YAAe,WAAU;;8BACxB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC;gCACC,WAAU;gCACV,OAAM;gCACN,MAAK;gCACL,SAAQ;0CAER,cAAA,8OAAC;oCAAK,GAAE;;;;;;;;;;;;;;;;sCAGZ,8OAAC;4BAAI,WAAU;;;;;;;;;;;;8BAEjB,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCACX;;;;;;wBAEF;;;;;;;;WAlBI;;;;;IAsBb;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAG,WAAU;sBACX,QAAQ,MAAM,GACb,QAAQ,GAAG,CAAC,oCAEZ,8OAAC;0BAAG;;;;;;;;;;;;;;;;AAKd;uCAEe","debugId":null}},
    {"offset": {"line": 626, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alcar/OneDrive/Desktop/SAC_MOOVIN/sac_manager_ui/src/components/AgentResponseModal.jsx"],"sourcesContent":["// Refactor del timeline del agente con hover en respuesta y nuevo layout\r\nimport { useState, useEffect } from \"react\";\r\nimport AgentTimeline from \"./AgentTimeline\";\r\n\r\nconst AgentResponseModal = ({ ctx ,entry, onClose, msg_selected }) => {\r\n  const [agentRun, setAgentRun] = useState([]);\r\n  const [hoveredItem, setHoveredItem] = useState(null);\r\n\r\n  if (!entry) return null;\r\n\r\n  useEffect(() => {\r\n    try {\r\n      console.log(\"Entry en Modal:\", entry, \"Context:\", ctx);\r\n      setAgentRun(entry.steps_taken);\r\n    } catch (e) {\r\n      console.error(\"\\u274C Error al parsear el contexto:\", e);\r\n    }\r\n  }, [entry]);\r\n\r\n  const agent = entry.responded_by || \"General Agent\";\r\n  const userEnv =ctx || {};\r\n\r\n  const getToolOutput = (call_id) => {\r\n    const outputObj = agentRun.find(\r\n      (item) => item.type === \"function_call_output\" && item.call_id === call_id\r\n    );\r\n    if (!outputObj) return null;\r\n    try {\r\n      return JSON.stringify(\r\n        typeof outputObj.output === \"string\"\r\n          ? JSON.parse(outputObj.output.replace(/'/g, '\"'))\r\n          : outputObj.output,\r\n        null,\r\n        2\r\n      );\r\n    } catch (e) {\r\n      return outputObj.output;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-gray/10 backdrop-blur-sm flex items-center justify-center z-50\">\r\n      <div className=\"bg-white dark:bg-gray-800 max-w-[90vw] w-[80vw] rounded-lg max-h-[90vh] h-[90vh] p-6 shadow-xl relative overflow-hidden flex flex-col justify-center items-center\">\r\n        <h2 className=\"text-xl font-semibold mb-4\">Detalles del Proceso</h2>\r\n        <button\r\n          className=\"absolute top-4 right-6 text-gray-500 hover:text-red-600\"\r\n          onClick={onClose}\r\n        >\r\n          ✕\r\n        </button>\r\n\r\n        <div className=\"grid grid-cols-[25%_50%_24%] grid-rows-[20%_40%_20%] h-full w-full\">\r\n          <div className=\"col-start-1 col-end-2 row-start-1 row-end-2 flex-col text-center\">\r\n            <h2 className=\"font-semibold text-lg\">Agente que respondió</h2>\r\n            <p className=\"text-sm\">{agent}</p>\r\n          </div>\r\n\r\n          <div className=\"col-start-1 col-end-4 row-start-2 row-end-3 flex-col\">\r\n            <h2 className=\"font-semibold text-center text-lg\">\r\n              Acciones del Agente\r\n            </h2>\r\n            <AgentTimeline actions={agentRun} getToolOutput={getToolOutput} />\r\n          </div>\r\n\r\n          <div className=\"col-start-1 col-end-2 row-start-3 row-end-4 flex-col\">\r\n            <h3 className=\"font-semibold text-center p-3\">\r\n              Contexto del Usuario\r\n            </h3>\r\n            <pre className=\"bg-gray-100 dark:bg-gray-700 text-xs p-3 rounded whitespace-pre-wrap\">\r\n              {JSON.stringify(userEnv, null, 2)}\r\n            </pre>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AgentResponseModal;\r\n"],"names":[],"mappings":"AAAA,yEAAyE;;;;;AACzE;AACA;;;;AAEA,MAAM,qBAAqB,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,YAAY,EAAE;IAC/D,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC3C,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,IAAI,CAAC,OAAO,OAAO;IAEnB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI;YACF,QAAQ,GAAG,CAAC,mBAAmB,OAAO,YAAY;YAClD,YAAY,MAAM,WAAW;QAC/B,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,wCAAwC;QACxD;IACF,GAAG;QAAC;KAAM;IAEV,MAAM,QAAQ,MAAM,YAAY,IAAI;IACpC,MAAM,UAAS,OAAO,CAAC;IAEvB,MAAM,gBAAgB,CAAC;QACrB,MAAM,YAAY,SAAS,IAAI,CAC7B,CAAC,OAAS,KAAK,IAAI,KAAK,0BAA0B,KAAK,OAAO,KAAK;QAErE,IAAI,CAAC,WAAW,OAAO;QACvB,IAAI;YACF,OAAO,KAAK,SAAS,CACnB,OAAO,UAAU,MAAM,KAAK,WACxB,KAAK,KAAK,CAAC,UAAU,MAAM,CAAC,OAAO,CAAC,MAAM,QAC1C,UAAU,MAAM,EACpB,MACA;QAEJ,EAAE,OAAO,GAAG;YACV,OAAO,UAAU,MAAM;QACzB;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAC3C,8OAAC;oBACC,WAAU;oBACV,SAAS;8BACV;;;;;;8BAID,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAwB;;;;;;8CACtC,8OAAC;oCAAE,WAAU;8CAAW;;;;;;;;;;;;sCAG1B,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAoC;;;;;;8CAGlD,8OAAC,mIAAA,CAAA,UAAa;oCAAC,SAAS;oCAAU,eAAe;;;;;;;;;;;;sCAGnD,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAgC;;;;;;8CAG9C,8OAAC;oCAAI,WAAU;8CACZ,KAAK,SAAS,CAAC,SAAS,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7C;uCAEe","debugId":null}},
    {"offset": {"line": 786, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alcar/OneDrive/Desktop/SAC_MOOVIN/sac_manager_ui/src/components/Chat.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport AgentResponseModal from \"./AgentResponseModal\";\r\nimport { fetchUserHistory } from \"../services/ManagerUI_service\";\r\n\r\nconst Chat = ({ userId, style }) => {\r\n  const containerRef = useRef(null);\r\n  const [selectedEntry, setSelectedEntry] = useState(null);\r\n  const [selectedContext, setSelectedContext] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [msg_idx, setMsg_idx] = useState(null);\r\n  const [message_range, setMessage_range] = useState(10);\r\n  const [session_history, set_Session_history] = useState([]);\r\n\r\n  const format_input_items = (input_items) => {\r\n    const result = [];\r\n    let i = 0;\r\n\r\n    while (i < input_items.length) {\r\n      if (input_items[i].role === \"user\") {\r\n        const user_message = input_items[i];\r\n\r\n        const steps_taken = [];\r\n        let agent_message = null;\r\n        let responded_by = \"General Agent\";\r\n        let j = i + 1;\r\n\r\n        // Busca hasta el siguiente mensaje del usuario\r\n        while (j < input_items.length) {\r\n          const item = input_items[j];\r\n\r\n          if (item.role === \"user\") {\r\n            break;\r\n          }\r\n          if (item.output && item.type === \"function_call_output\") {\r\n            try {\r\n              let output = JSON.parse(item.output);\r\n              if (output.assistant) {\r\n                responded_by = output.assistant;\r\n              }\r\n            } catch {}\r\n          }\r\n          // Mensaje del agente\r\n          if (item.role === \"assistant\" && item.type === \"message\") {\r\n            agent_message = item;\r\n          } else {\r\n            steps_taken.push(item);\r\n          }\r\n          j++;\r\n        }\r\n\r\n        if (agent_message) {\r\n          result.push({\r\n            user_message,\r\n            agent_message,\r\n            steps_taken,\r\n            responded_by,\r\n          });\r\n          i = j;\r\n        } else {\r\n          // Si no hay respuesta del agente, solo avanza\r\n          i++;\r\n        }\r\n      } else {\r\n        i++;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUserHistory(userId, message_range).then((data) => {\r\n      let session_history = [];\r\n      data.forEach((session) => {\r\n        let raw_entry = session.contexto;\r\n        let entry = JSON.parse(raw_entry);\r\n        let input_items = format_input_items(entry.input_items);\r\n\r\n        session_history.push({\r\n          id: session.id,\r\n          context: entry.context,\r\n          fecha: session.fecha,\r\n          input_items,\r\n        });\r\n      });\r\n\r\n      set_Session_history(session_history.reverse());\r\n    });\r\n  }, [userId, message_range]);\r\n\r\n  const handleAgentClick = (ctx, entry, idx) => {\r\n    setSelectedContext(ctx);\r\n    setSelectedEntry(entry);\r\n    setMsg_idx(idx);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const loadMoreMessages = async () => {\r\n    if (session_history.length === 0) return;\r\n\r\n    const first_id = session_history[0].id;\r\n    const container = containerRef.current;\r\n\r\n    const previousScrollTop = container.scrollTop;\r\n    const previousHeight = container.scrollHeight;\r\n\r\n    const newMessages = await fetchUserHistory(userId, message_range, first_id);\r\n\r\n    if (newMessages.length > 0) {\r\n      const reversedNew = newMessages.reverse();\r\n      set_Session_history((prev) => [...reversedNew, ...prev]);\r\n\r\n      // Espera a que el DOM se actualice\r\n      requestAnimationFrame(() => {\r\n        const newHeight = container.scrollHeight;\r\n        const delta = newHeight - previousHeight;\r\n        container.scrollTop = previousScrollTop + delta;\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    if (!container) return;\r\n\r\n    const handleScroll = () => {\r\n      if (container.scrollTop === 0) {\r\n        loadMoreMessages();\r\n      }\r\n    };\r\n\r\n    container.addEventListener(\"scroll\", handleScroll);\r\n    return () => container.removeEventListener(\"scroll\", handleScroll);\r\n  }, [session_history]);\r\n\r\n  useEffect(() => {\r\n    if (session_history.length === 0) return;\r\n\r\n    const container = containerRef.current;\r\n    // Solo hacer scroll al fondo si el scroll ya estaba abajo o es primera carga\r\n    const isInitialLoad =\r\n      container.scrollTop === 0 ||\r\n      container.scrollTop === container.scrollHeight;\r\n    if (isInitialLoad) {\r\n      setTimeout(() => {\r\n        container.scrollTop = container.scrollHeight;\r\n      }, 0);\r\n    }\r\n  }, [session_history.length === message_range]); // se ejecuta solo cuando cambia el lote inicial\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      style={{ ...style, overflowY: \"auto\" }}\r\n      className=\"p-4 flex flex-col gap-4\"\r\n    >\r\n      {session_history.map((entry, idx) => (\r\n        <div key={entry.id || idx} className=\"flex flex-col gap-2\">\r\n          {entry.input_items.map((item, itemIdx) => (\r\n            <div key={itemIdx}>\r\n              {/* Mensaje del Usuario */}\r\n              <div className=\"flex items-start gap-2.5\">\r\n                <div\r\n                  className=\"flex flex-col w-full max-w-[320px] leading-1.5 p-4 rounded-e-xl rounded-es-xl\"\r\n                  style={{ backgroundColor: \"#ac302c\" }}\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                      Usuario\r\n                    </span>\r\n                    <span className=\"text-xs\">\r\n                      {entry.fecha\r\n                        ? new Date(\r\n                            new Date(entry.fecha).getTime() - 6 * 60 * 60 * 1000\r\n                          ).toLocaleTimeString()\r\n                        : \"\"}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-900 dark:text-white mt-2\">\r\n                    {item.user_message?.content}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Mensaje del Agente */}\r\n              <div className=\"flex items-start justify-end gap-3 cursor-pointer\">\r\n                <div\r\n                  className=\"flex flex-col w-full max-w-[320px] leading-1.5 p-4 rounded-s-xl rounded-ee-xl mr-6\"\r\n                  style={{ backgroundColor: \"#013544\" }}\r\n                  onClick={() => handleAgentClick(entry.context, item, idx)}\r\n                >\r\n                  <div className=\"flex items-center justify-between \">\r\n                    <span className=\"text-sm font-semibold text-gray-900 dark:text-white\">\r\n                      {item.responded_by || \"Agente\"}\r\n                    </span>\r\n                    <span className=\"text-xs text-gray-500 dark:text-gray-300\">\r\n                      {entry.fecha\r\n                        ? new Date(\r\n                            new Date(entry.fecha).getTime() - 6 * 60 * 60 * 1000\r\n                          ).toLocaleTimeString()\r\n                        : \"\"}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-sm text-gray-900 dark:text-white mt-2\">\r\n                    {Array.isArray(item.agent_message?.content)\r\n                      ? JSON.parse(item.agent_message.content[0].text).response\r\n                      : \"\"}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ))}\r\n\r\n      {showModal && selectedEntry && (\r\n        <AgentResponseModal\r\n          ctx={selectedContext}\r\n          msg_selected={msg_idx}\r\n          entry={selectedEntry}\r\n          show={showModal}\r\n          onClose={() => setShowModal(false)}\r\n          style={{\r\n            display: \"flex\",\r\n            alignSelf: \"center\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1086, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/alcar/OneDrive/Desktop/SAC_MOOVIN/sac_manager_ui/src/app/ManagerUI/page.jsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport ConversationsTab from \"../../components/ConversationsTab\";\r\nimport Chat from \"../../components/Chat\";\r\n\r\nexport default function ManagerUIPage() {\r\n  const [selectedUserId, setSelectedUserId] = useState(null);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"grid\",\r\n        gridTemplateRows: \"50px 1fr\",\r\n        gridTemplateColumns: \"15% 1fr\",\r\n        height: \"100vh\",\r\n        width: \"100vw\",\r\n        minHeight: 0,\r\n      }}\r\n    >\r\n\r\n      <div\r\n      style={{\r\n        gridRow: \"2\",\r\n        gridColumn: \"1\",\r\n        backgroundColor: \"#000b24ff\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        textAlign: \"center\",\r\n        \r\n      }}>\r\n        <div>\r\n          <p>Chats</p>\r\n        </div>\r\n        <div>\r\n          <p>Prompts</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          gridRow: \"1\",\r\n          gridColumn: \"1/ span 2\",\r\n          backgroundColor: \"#000b24f9\",\r\n          display: \"flex\",\r\n          flexDirection: \"row\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          height: \"100%\",\r\n          alignSelf: \"start\",\r\n          borderRight: \"2px solid #ac302c\",\r\n          borderBottom: \"2px solid #ac302c\",\r\n          position: \"static\",\r\n          zIndex: 20,\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            height: \"100%\",\r\n            display: \"flex\",\r\n            justifyItems: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <img\r\n            src=\"SAC-manager-Title.png\"\r\n            alt=\"Logo Moovin\"\r\n            style={{\r\n              height: \"60%\",\r\n              paddingLeft: 15,\r\n            }}\r\n          />\r\n        </div>\r\n\r\n        <div\r\n          style={{\r\n            height: \"75%\",\r\n            backgroundColor: \"white\",\r\n            borderRadius: \"5px\",\r\n            margin: \"0.75rem\",\r\n          }}\r\n        >\r\n          <img\r\n            src=\"moovin_logo.png\"\r\n            alt=\"Logo Moovin\"\r\n            style={{ height: \"100%\", padding: 8 }}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n      <div\r\n        style={{\r\n          gridRow: \"2\",\r\n          gridColumn: \"2\",\r\n          display:\"grid\",\r\n          gridTemplateColumns: \"1fr 3fr\",\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            gridColumn: \"1\",\r\n            height: \"100%\",\r\n            borderRight: \"2px solid #ac302c\",\r\n          }}\r\n        >\r\n          <ConversationsTab\r\n            onSelectUser={setSelectedUserId}\r\n            selectedUserId={selectedUserId}\r\n          />\r\n        </div>\r\n\r\n        {selectedUserId ? (\r\n          <Chat\r\n            userId={selectedUserId}\r\n            style={{\r\n              gridColumn: \"2\",\r\n              height: \"100%\",\r\n              width: \"100%\",\r\n              display: \"flex\",\r\n              backgroundColor: \"#ffffffff\",\r\n              flexDirection: \"column\",\r\n            }}\r\n          />\r\n        ) : (\r\n          <div\r\n            style={{\r\n              gridRow: \"2\",\r\n              backgroundColor: \"#ebe4eb\",\r\n              gridColumn: \"2\",\r\n              flex: 1,\r\n              padding: 20,\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              display: \"flex\",\r\n              color: \"#00255a\",\r\n              fontSize: \"larger\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          >\r\n            <h3>Selecciona una conversación</h3>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAErD,qBACE,8OAAC;QACC,OAAO;YACL,SAAS;YACT,kBAAkB;YAClB,qBAAqB;YACrB,QAAQ;YACR,OAAO;YACP,WAAW;QACb;;0BAGA,8OAAC;gBACD,OAAO;oBACL,SAAS;oBACT,YAAY;oBACZ,iBAAiB;oBACjB,SAAS;oBACT,eAAe;oBACf,WAAW;gBAEb;;kCACE,8OAAC;kCACC,cAAA,8OAAC;sCAAE;;;;;;;;;;;kCAEL,8OAAC;kCACC,cAAA,8OAAC;sCAAE;;;;;;;;;;;;;;;;;0BAIP,8OAAC;gBACC,OAAO;oBACL,SAAS;oBACT,YAAY;oBACZ,iBAAiB;oBACjB,SAAS;oBACT,eAAe;oBACf,gBAAgB;oBAChB,YAAY;oBACZ,QAAQ;oBACR,WAAW;oBACX,aAAa;oBACb,cAAc;oBACd,UAAU;oBACV,QAAQ;gBACV;;kCAEA,8OAAC;wBACC,OAAO;4BACL,QAAQ;4BACR,SAAS;4BACT,cAAc;4BACd,YAAY;wBACd;kCAEA,cAAA,8OAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,OAAO;gCACL,QAAQ;gCACR,aAAa;4BACf;;;;;;;;;;;kCAIJ,8OAAC;wBACC,OAAO;4BACL,QAAQ;4BACR,iBAAiB;4BACjB,cAAc;4BACd,QAAQ;wBACV;kCAEA,cAAA,8OAAC;4BACC,KAAI;4BACJ,KAAI;4BACJ,OAAO;gCAAE,QAAQ;gCAAQ,SAAS;4BAAE;;;;;;;;;;;;;;;;;0BAO1C,8OAAC;gBACC,OAAO;oBACL,SAAS;oBACT,YAAY;oBACZ,SAAQ;oBACR,qBAAqB;gBACvB;;kCAEA,8OAAC;wBACC,OAAO;4BACL,YAAY;4BACZ,QAAQ;4BACR,aAAa;wBACf;kCAEA,cAAA,8OAAC,sIAAA,CAAA,UAAgB;4BACf,cAAc;4BACd,gBAAgB;;;;;;;;;;;oBAInB,+BACC,8OAAC,0HAAA,CAAA,UAAI;wBACH,QAAQ;wBACR,OAAO;4BACL,YAAY;4BACZ,QAAQ;4BACR,OAAO;4BACP,SAAS;4BACT,iBAAiB;4BACjB,eAAe;wBACjB;;;;;6CAGF,8OAAC;wBACC,OAAO;4BACL,SAAS;4BACT,iBAAiB;4BACjB,YAAY;4BACZ,MAAM;4BACN,SAAS;4BACT,gBAAgB;4BAChB,YAAY;4BACZ,SAAS;4BACT,OAAO;4BACP,UAAU;4BACV,YAAY;wBACd;kCAEA,cAAA,8OAAC;sCAAG;;;;;;;;;;;;;;;;;;;;;;;AAMhB","debugId":null}}]
}